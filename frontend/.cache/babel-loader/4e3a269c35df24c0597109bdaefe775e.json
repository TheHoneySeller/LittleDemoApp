{"ast":null,"code":"var _jsxFileName = \"/app/src/components/CourseTable.js\";\nimport axios from \"axios\";\nimport { Component } from \"react\";\nimport Table from 'react-bootstrap/Table';\nimport CourseTableElement from \"./CourseTableElement\";\n\nclass CourseTable extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      elements: [],\n      refs: [] //references of CourseTableElements to update enrolled students lists\n\n    };\n\n    this.createTableElementComponents = elements => {\n      return elements.map((element, index) => {\n        return /*#__PURE__*/React.createElement(CourseTableElement, {\n          updateParent: () => {\n            this.retrieveData();\n          },\n          id: element.id,\n          title: element.title,\n          level: element.level,\n          index: index,\n          getRef: ref => {\n            this.addRef(ref, index);\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 22,\n            columnNumber: 20\n          }\n        });\n      });\n    };\n\n    this.addRef = (ref, index) => {\n      let newRefs = [...this.state.refs];\n      newRefs[index] = ref;\n      this.setState({\n        refs: newRefs\n      });\n    };\n  }\n\n  componentWillMount() {\n    this.props.getRef(this);\n    this.retrieveData();\n  }\n\n  retrieveData() {\n    axios.get(\"http://localhost:8082/course\").then(result => {\n      let tableElements = this.createTableElementComponents(result.data);\n      this.state.refs.forEach(element => {\n        element.getEnrolledStudents();\n      });\n      this.setState({\n        elements: tableElements\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Table, {\n      striped: true,\n      bordered: true,\n      hover: true,\n      size: \"sm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 29\n      }\n    }, \"Course ID\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 29\n      }\n    }, \"Title\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 29\n      }\n    }, \"Level\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 29\n      }\n    }, \"Enrolled Students\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 29\n      }\n    }, \"Delete\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }\n    }, this.state.elements)));\n  }\n\n}\n\nexport default CourseTable;","map":{"version":3,"sources":["/app/src/components/CourseTable.js"],"names":["axios","Component","Table","CourseTableElement","CourseTable","state","elements","refs","createTableElementComponents","map","element","index","retrieveData","id","title","level","ref","addRef","newRefs","setState","componentWillMount","props","getRef","get","then","result","tableElements","data","forEach","getEnrolledStudents","render"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport { Component } from \"react\";\nimport Table from 'react-bootstrap/Table'\nimport CourseTableElement from \"./CourseTableElement\";\n\n\n\n\nclass CourseTable extends Component {\n    state = {\n        elements: [],\n        refs: [] //references of CourseTableElements to update enrolled students lists\n    }\n\n    componentWillMount() {\n        this.props.getRef(this)\n        this.retrieveData()\n    }\n\n    createTableElementComponents = (elements) => {\n        return elements.map( (element, index) => {\n            return <CourseTableElement updateParent={() => {this.retrieveData()}} id={element.id} title={element.title}\n                level={element.level} index={index} getRef={  (ref) => {\n                    this.addRef(ref, index)\n                }\n                } />\n        } )\n    }\n\n    retrieveData() {\n        axios.get(\"http://localhost:8082/course\").then( (result) => {\n            let tableElements = this.createTableElementComponents(result.data)\n            this.state.refs.forEach(element => {\n                element.getEnrolledStudents()\n            });\n            this.setState({elements: tableElements})\n        } )\n        \n    }\n\n\n    addRef = (ref, index) => {\n        let newRefs = [...this.state.refs]\n        newRefs[index] = ref\n        this.setState({refs: newRefs})\n    }\n    \n\n    render() {\n\n        return (\n            <div>\n                <Table striped bordered hover size=\"sm\">\n                <thead>\n                        <tr>\n                            <th>Course ID</th>\n                            <th>Title</th>\n                            <th>Level</th>\n                            <th>Enrolled Students</th>\n                            <th>Delete</th>\n                        </tr>\n                </thead>\n                <tbody>\n                    {this.state.elements}\n                </tbody>\n                </Table>\n            </div>\n        )\n    }\n\n}\n\nexport default CourseTable"]},"metadata":{},"sourceType":"module"}